<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>udata-js exemple carte</title>
    <link type="text/css" href="./exemple.css" rel="stylesheet">
    <style>
        .uData-map .geojson_preview .map{
            height: 900px;
        }
    </style>


    <!-- chargement feuille de style bootstrap -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css">

</head>
<body>

   <script>window.jQuery || document.write("<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js'><\/script>")</script>

   <script src="./udata.js"></script>

   <script>
       pprn_style= function(feature, layer){
        var color= '#555';

        console.log(feature.properties);

        switch(feature.properties.CODEZONE) {
            case 'Rouge':
            color="#ff0000";
            break;
            case 'Bleue':
            color="#0000ff";
            break;
            case 'Violet':
            color="#ff00ff";
            break;
            case 'Violette':
            color="#ff00ff";
            break;
             case 'Vert':
            color="#00ff00";
            break;

            default:
             console.log(feature.properties.CODEZONE+' not found');
        }

        return {
            fillColor: color,
            weight: 0,
            fillOpacity: 0.75
        }
    }
</script>

<script id="pprn_template" type="text/x-handlebars-template">
    <h3>{{properties.NOM}}</h3>
   <table class='table table-borderd table-hover'>
       <tr>
           <th>ID Zone:</th>
           <td>{{properties.ID_ZONE}}</td>
       </tr>
       <tr>
           <th>ID Gaspar</th>
           <td>{{properties.ID_GASPAR}}</td>
       </tr>
       <tr>
           <th>Ann√©e</th>
           <td>{{properties.SRCE_ANNEE}}</td>
       </tr>
   </table>

</script>

<div class="uData-map"
data-ressources='[
{
    "url": "https://inspire.data.gouv.fr/api/geogw/file-packages/657b0e7629e55043f89a98e6a443ae9fde3b02fb/download?format=GeoJSON&projection=WGS84",
    "id": "a1e7999f-43b7-422f-a53c-2f544adb5551",
    "title": "Vic-Fezensac",
    "type": "geojson",
    "style": "pprn_style",
    "template": "#pprn_template"
}
]'


data-background_layers= '[
    {
        "title": "Toner",
        "url": "//{s}.tile.stamen.com/toner-lite/{z}/{x}/{y}.png"
    },
    {
        "title": "OSM-monochrome",
        "url": "//www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png"
    },
    {
        "title": "OpenTopoMap",
        "url": "//{s}.tile.opentopomap.org/{z}/{x}/{y}.png"
    }
]'


data-title='PPRN inondation Gers'

></div>

</body>
</html>